{% extends "pages//baseNew.html" %}

{% block body_content %}

<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/accountSettings.css') }}">

<div class="container-xl px-4 mt-4 Settings-Main-Box">
    <!-- Account page navigation-->
    <nav class="nav nav-borders rounded Small-Navbar" style="background-color: rgba(224, 153, 94);">

        <span class="nav-link"  style="color: #579956;"><b>Ustawienia konta</b></span> 

        {% if mode=='settings' %}
            <a class="nav-link active ms-0" href="{{ url_for('user.settings') }}"  style="color: #182c07e8; background-color: #579956;">Dane podstawowe</a>
        {% else %}
            <a class="nav-link active ms-0" href="{{ url_for('user.settings') }}"  style="color: #182c07e8;">Dane podstawowe</a>
        {% endif %}

        {% if mode=='passwordChange' %}
            <a class="nav-link" href="{{ url_for('user.passwordChange') }}" style="color: #182c07e8; background-color: #579956;">Prywatność</a>
        {% else %}
            <a class="nav-link" href="{{ url_for('user.passwordChange') }}" style="color: #182c07e8;">Prywatność</a>
        {% endif %}

        <a class="nav-link" href="#" style="color: #182c07e8;">Inne</a>

    </nav>

    <hr class="mt-0 mb-4">
    <div class="row">
        <div class="col-xl-4">
            <!-- Profile picture card-->
            <div class="card mb-4 mb-xl-0 Single-Card-Box">
                <div class="card-header">Zdjęcie profilowe</div>
                <div class="card-body text-center">
                    <!-- Profile picture image-->
                    <img class="img-account-profile rounded-circle mb-2" src="{{current_user.give_avatar_path() }}" alt=""> 

                    
                    <!-- Profile picture help block-->
                    <div class="small font-italic text-muted mb-4">
                        <a href="{{ url_for('user.rotateAvatarLeft') }}"><img src="/static/pictures/rotate-left-solid.svg" alt="" width="30" height="30"></a>
                        <a href="{{ url_for('user.rotateAvatarRight') }}"><img src="/static/pictures/rotate-right-solid.svg" alt="" width="30" height="30"></a>
                    </div>
                    <div class="small font-italic text-muted mb-4">JPG lub PNG nie większe niż 5 MB</div>
                    <!-- Profile picture upload button-->
                    <form method="POST" style="margin-top:30px;" enctype="multipart/form-data">
                        <div class="row justify-content-center">
                            {{ avatarForm.csrf_token }}
                            <div class="small font-italic text-muted mb-4">
                                {{ avatarForm.image }}
                                <ul>
                                    {% for error in avatarForm.image.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        <button class="btn btn-dark Account-Settings-Main-Button" type="submit" style="background-color: #182c07e8; margin-left: 10px; margin-right: 10px;">Prześlij nowe zdjęcie</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-xl-8">
            <!-- Account details card-->
            <div class="card mb-4 Single-Card-Box">
                <div class="card-header">Szczegóły konta</div>
                <div class="card-body">
                    <form method="POST" enctype="multipart/form-data">
                        {{ form.csrf_token }}
                        <!-- Form Group (username)-->
                        <div class="mb-3">
                            <label class="small mb-1">Login (Nazwa, która jest tylko dla potrzeb aplikacji. Nigdzie nie będzie widoczna)</label>
                            <input class="form-control" type="text" value="{{current_user.id}}" aria-label="Disabled input example" disabled readonly>
                            <ul>
                                {% for error in form.id.errors %}
                                    {{ error }}
                                {% endfor %}
                            </ul>
                        </div>
                        <!-- Form Row-->
                        <div class="row gx-3 mb-3">
                            <!-- Form Group (first name)-->
                            <div class="col-md-6">
                                <label class="small mb-1">{{ form.name.label }}</label>
                                {{ form.name(class_="form-control" ) }}
                                <ul>
                                    {% for error in form.name.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </ul>
                            </div>
                            <!-- Form Group (last name)-->
                            <div class="col-md-6">
                                <label class="small mb-1">{{ form.lastName.label }}</label>
                                {{ form.lastName(class_="form-control") }}
                                <ul>
                                    {% for error in form.lastName.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        <!-- Form Group (email address)-->
                        <div class="mb-3">
                            <label class="small mb-1">Adres E-mail</label>
                            <input class="form-control" type="text" value="{{current_user.mail}}" aria-label="Disabled input example" disabled readonly>
                            <ul>
                                {% for error in form.mail.errors %}
                                    {{ error }}
                                {% endfor %}
                            </ul>
                        </div>
                        <!-- Form Row-->
                        <div class="row gx-3 mb-3">
                            <!-- Form Group (phone number)-->
                            <div class="col-md-6">
                                <label class="small mb-1" for="inputPhone">Numer telefonu</label>
                                <input class="form-control" id="inputPhone" type="tel" placeholder="Enter your phone number" value="brak">
                            </div>
                            <!-- Form Group (birthday)-->
                            <div class="col-md-6">
                                <label class="small mb-1" for="inputBirthday">Urodziny</label>
                                <input class="form-control" id="inputBirthday" type="text" name="birthday" placeholder="Enter your birthday" value="brak">
                            </div>
                        </div>
                        <!-- Save changes button-->
                        <button class="btn btn-dark Account-Settings-Main-Button" style="background-color: #182c07e8;" type="submit">Zapisz zmiany</button>
                    </form>
                </div>
            </div>

            <div class="row-social-connect">
                <a class="Login-Social-Button" href="{{ url_for('user.loginConnectFacebook') }}">
                    <img src="static/img/icon-Facebook.webp" class="icon-social-button">
                    <span class="Login-Social-Font">
                        Połącz konto z Facebook
                    </span>
                </a>
                <a class="Login-Social-Button" href="{{ url_for('user.googleLoginConnect') }}">
                    <img src="static/img/icon-Google.webp" class="icon-social-button">
                    <span class="Login-Social-Font">
                        Połącz konto z Google
                    </span>
                </a>
            </div>

        </div>
    </div>
</div>

{% endblock %}